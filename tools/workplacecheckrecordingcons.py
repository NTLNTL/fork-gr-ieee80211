import os
import numpy as np
import math
import phy80211header as p8h
from matplotlib import pyplot as plt
import phy80211 
import cmath

fftSigB = [(-0.0550214,0.0562533),(0.308364,0.135529),(-0.244146,-0.0705289),(-0.529404,0.183936),(-0.518271,0.757803),(0.00471425,-0.395053),(-0.269264,-0.47484),(-0.3614,-0.240272),(0.0109272,-0.262443),(-0.200832,-0.183563),(-0.427196,0.0786735),(-0.254527,0.495066),(0.262278,0.731246),(-0.678801,-0.184747),(0.398857,-0.153129),(-0.199775,0.204834),(0.110944,0.0469483),(-0.167228,0.183479),(0.247497,0.589229),(-0.38294,-0.182045),(-0.860045,0.0385745),(0.245627,-0.451342),(-0.16729,0.270564),(0.110098,0.219274),(-0.13536,0.216621),(-0.300349,-0.202492),(0.458587,0.0438065),(-0.459436,0.353601),(0.109024,-0.432504),(-0.060471,-0.0595221),(-0.0587611,-0.0263226),(-0.0652046,0.0052123),(-0.0780298,-0.0263373),(-0.0696082,-0.0144941),(-0.0842576,0.000499029),(-0.216331,0.0251142),(0.380561,0.095651),(0.4347,-0.202244),(0.220035,-0.373783),(-0.00904337,-0.266283),(-0.105296,-0.0662364),(0.186373,0.117817),(0.6649,-0.0863516),(-0.304411,0.209624),(-0.256542,0.695045),(-0.21659,-0.429427),(0.110084,0.203047),(0.140042,0.0278636),(-0.181913,0.0502883),(0.2073,-0.159707),(0.231407,-0.704661),(0.076788,0.398487),(0.482327,0.53955),(-0.437505,-0.12775),(0.362303,-0.0370965),(-0.0403399,0.0237367),(0.0234756,0.0141009),(0.0978502,0.353041),(-0.290144,-0.409133),(0.677656,0.169735),(-0.355162,-0.0789434),(-0.448452,0.206473),(-0.330051,0.409877),(0.0184503,-0.19152)]
CompSigB = [(1.66899,-0.0547829),(-0.630056,0.0867501),(-0.995216,-0.0634742),(-1.32766,0.110056),(0.623373,-0.0669777),(1.11753,0.368452),(-1.46035,0.261765),(-0.407706,-0.96527),(-0.879779,-0.208848),(-0.845329,0.0657024),(-1.12885,0.355019),(0.986989,-0.726603),(-0.839101,0.388196),(0.69311,0.167896),(0.903889,-0.247004),(-0.678589,-0.0459703),(-1.29629,0.263725),(0.707079,-0.0165902),(1.36414,0.0324392),(0.681667,0.378125),(0.769971,0.219566),(-1.47043,1.13013),(1.00066,-0.740741),(-1.06807,-0.0303453),(0.99009,-0.254905),(-0.753058,0.319385),(-0.724653,0.0761444),(-0.978809,0.321181),(-1.28466,0.282625),(-2.68616,0.0628332),(0.0393941,-0.810136),(-0.710938,-0.0509588),(-1.20892,0.393037),(1.16757,0.0457037),(-0.918382,0.217214),(0.521214,0.185504),(0.865367,0.493581),(0.615918,-0.958054),(-0.651385,0.454948),(-1.27184,0.889389),(0.617154,-0.364345),(1.2554,-0.432817),(-0.81621,0.0911575),(0.843548,-0.288272),(-0.426805,-0.0198964),(0.304249,-0.202879),(-1.19489,-0.0914633),(1.16647,-0.0042527),(-0.642251,-0.0133188),(-0.926742,0.266216),(-1.12516,0.306941),(0.563803,-0.245314)]

fftApDataC1 = [(-0.0558928,0.0269923),(0.0177668,-0.448788),(-0.144776,-0.520879),(0.412077,-0.49183),(-0.109396,-0.706718),(-0.024022,0.682108),(-0.19566,-1.19081),(0.13382,0.106058),(-0.176025,0.207627),(0.0224342,0.397298),(0.379101,-0.296075),(-0.346369,0.600528),(-0.530809,0.440658),(-0.128179,0.151202),(-0.269615,0.313015),(0.476191,-0.0190685),(0.565059,-0.0911432),(0.538244,0.103154),(0.29185,0.137279),(-0.492812,0.125296),(0.927913,-0.560025),(-0.0696658,0.0408497),(-0.496941,0.0145728),(0.520185,0.208918),(0.426286,0.315609),(-0.327884,-0.40543),(-0.137397,-0.374092),(-0.154659,-0.246081),(0.0872421,-0.03791),(0.0356656,0.0141863),(0.0056278,-0.0104973),(0.0223743,-0.0271348),(0.0563509,-0.0163819),(0.033293,0.00443713),(0.0864035,-0.000123918),(0.107421,0.0278469),(0.25095,-0.23417),(0.426669,-0.150659),(0.375218,-0.261783),(0.33225,-0.177995),(-0.450079,0.283552),(-0.37159,0.238269),(0.6475,-0.841374),(0.0528821,0.110836),(-0.398566,0.278586),(0.4705,-0.0711335),(-0.419406,0.184399),(0.630718,0.15342),(0.501484,0.244961),(0.59664,0.121391),(0.584911,0.129083),(-0.590171,0.000256367),(-0.563556,-0.281336),(-0.305703,-0.229231),(0.626986,0.459993),(0.332451,0.444869),(-0.601241,-0.379423),(0.0153813,0.00240043),(0.348788,0.180492),(-0.541192,-0.156901),(0.451159,0.403421),(0.212296,0.678891),(0.0345854,0.62716),(0.0862991,-0.0632554)]
CompDataC1 = [(-0.497915,1.12611),(-0.0445416,0.756941),(-0.873814,0.824781),(0.14811,-1.67548),(-0.1207,1.47755),(-0.872435,2.54537),(0.338743,-1.10243),(-0.148095,-0.728333),(-0.793264,0.902067),(-0.198326,1.10302),(-0.353251,1.45752),(0.060251,0.476757),(0.280448,0.977737),(-0.452212,1.17268),(-1.84535,2.29895),(-0.5791,0.608547),(-0.544181,0.580755),(-0.399305,1.31424),(-1.58438,2.96731),(-0.0807984,0.928348),(-0.326626,1.15095),(-0.464236,1.21319),(1.02124,-1.92611),(-0.759968,0.715572),(-0.391198,0.536974),(-0.0811586,-0.87421),(0.247474,-0.835506),(1.08685,-1.67202),(-0.331008,0.802315),(-0.393458,1.32292),(0.201005,-0.880521),(0.0946068,-1.37809),(-0.678558,2.48784),(0.121132,0.790146),(-0.192982,1.4056),(0.0769343,-0.980875),(-0.474931,0.899719),(-1.19858,1.40029),(0.257467,-0.713673),(0.350962,-1.02445),(0.132522,1.16478),(-0.196837,1.20153),(0.216721,-0.890864),(-1.0008,3.05548),(-0.596462,0.693309),(-0.292302,1.53675),(0.0121307,-1.01106),(0.274238,0.714108),(0.116471,1.12596),(-0.464689,1.36476),(-1.08472,1.22307),(-0.565738,-0.109424)]

fftApDataC2 = [(-0.0665898,0.146543),(-0.46953,0.0356193),(-0.574099,0.248045),(-0.479274,-0.0889807),(-0.448684,0.415401),(0.838627,-0.0761719),(-0.679192,1.14509),(0.196548,-0.289489),(0.10077,-0.261269),(-0.230334,-0.245898),(-0.341022,0.542907),(-0.391611,-0.756068),(-0.314521,-0.455418),(-0.250316,0.0102184),(-0.243897,-0.055353),(0.528168,0.469345),(0.748753,0.177624),(0.573127,0.178379),(0.208326,0.0734893),(-0.554159,-0.0971659),(0.738872,-0.950396),(-0.229082,0.257799),(-0.174672,0.332263),(0.386308,-0.685989),(0.118718,-0.236869),(-0.243821,0.608261),(0.0853382,0.315032),(0.123954,0.235532),(0.006221,-0.0939818),(0.000844717,-0.0106959),(0.0283498,-0.024685),(0.0333996,-0.0154861),(0.0203609,-0.00911479),(0.0189811,0.0103942),(0.0504461,-0.022619),(0.107268,-0.024179),(0.421446,0.086279),(0.423081,0.015573),(0.439459,-0.145769),(0.176858,-0.0676709),(-0.627648,0.267238),(-0.399582,0.10504),(0.152456,-1.13285),(-0.11294,0.328774),(-0.001909,0.339661),(0.0387839,-0.503586),(-0.103318,0.413082),(-0.330652,-0.862411),(-0.432688,-0.384783),(-0.734268,-0.205556),(-0.467456,-0.122178),(0.777182,0.0341774),(0.601131,-0.016072),(0.130282,0.13947),(-0.929337,0.309849),(-0.373507,0.167795),(0.629212,-0.536528),(-0.0762077,0.205997),(0.0268622,0.396514),(-0.0453531,-0.486399),(0.492659,0.887932),(0.405588,0.617966),(0.347982,0.533195),(0.135587,-0.292594)]
CompDataC2 = [(-0.853678,0.216859),(-1.12,0.248779),(-0.584548,-0.696703),(1.05947,0.490131),(-0.815326,-1.6553),(-1.40712,-1.55823),(0.650912,0.185606),(0.390009,-0.430133),(-0.923186,-0.731772),(-2.01442,-0.341419),(-0.890322,-0.539581),(-0.499497,0.244197),(-0.556538,-0.114328),(-1.49139,-1.06158),(-1.72651,-0.502845),(-1.04585,-0.616712),(-0.306526,-0.325457),(-0.992158,-1.36926),(-1.86426,-1.88671),(-0.794782,-0.101277),(-1.26333,-1.00011),(-0.382279,-0.398599),(1.31898,0.722342),(-0.801854,0.108462),(-0.722585,-0.0804804),(-0.150799,0.4196),(1.0136,0.271618),(1.05519,0.196623),(-1.05448,-0.107424),(-0.375402,-0.0404779),(1.41578,0.494722),(0.412398,0.590865),(-2.9712,0.170981),(-0.728711,-0.0574966),(-0.866621,-0.375757),(0.657586,0.418531),(-1.60305,-0.570235),(-0.939085,-0.138501),(1.28697,0.0453211),(0.613032,0.38262),(-1.18946,-0.600132),(-0.894385,-0.567642),(-0.00908872,0.345668),(-1.61466,-0.72432),(-0.627118,-0.183807),(-1.57673,-0.236339),(0.690559,-0.198493),(-0.889906,-0.126235),(-1.78733,-0.664408),(-1.28603,-0.74391),(-0.872994,-0.695266),(-1.41868,-4.27871)]

fftApDataW1 = [(-0.0167326,0.151063),(-0.0685659,0.308624),(0.396619,-0.363016),(-0.106828,-0.592822),(0.88463,0.50551),(0.0604511,0.109986),(-1.35868,0.0943677),(-0.520845,0.00525927),(-0.330402,0.417623),(0.17416,-0.594234),(0.253819,-0.400757),(-0.246924,0.199094),(-0.376155,-0.408321),(-0.391412,0.642017),(0.746479,0.390928),(-0.0859124,0.361971),(0.502032,-0.167176),(-0.275612,0.049738),(0.627836,0.501201),(0.686694,0.226939),(-0.446669,0.446832),(-0.12423,-0.256702),(0.23508,0.315832),(-0.372293,0.343277),(0.522847,-0.0841009),(0.147357,0.354552),(0.182752,-0.30699),(-0.313565,0.0727024),(-0.137711,-0.0858879),(-0.139693,0.0211432),(-0.0801295,0.0381083),(-0.00943927,-0.00369639),(-0.0427923,-0.0312774),(-0.0391471,0.0554851),(0.0948254,0.0431397),(0.164697,-0.132427),(-0.222745,0.0963618),(0.408176,0.0547192),(-0.23295,-0.465489),(0.022972,0.229154),(-0.504672,-0.121904),(0.181663,-0.266188),(0.658535,0.428119),(-0.206026,0.0204486),(0.253458,-0.239279),(0.432331,0.213268),(0.211569,0.440348),(-0.538179,0.497159),(0.63955,0.284037),(-0.547554,-0.391849),(-0.0747361,0.840973),(-0.368034,0.722575),(0.630233,0.527256),(-0.00563541,0.0953404),(0.747667,-0.322018),(-0.115077,0.245647),(-0.241868,-0.318158),(0.36097,-0.171388),(0.30839,0.214302),(-0.055035,0.0751676),(-0.45,-0.852048),(-0.307716,0.206827),(0.40351,-0.564719),(-0.232133,0.0790739)]
CompDataW1 = [(0.273001,1.09584),(0.618456,0.0872546),(1.00186,0.821894),(-0.619585,-3.9874),(0.144353,0.0660859),(0.774206,1.10063),(0.22226,-1.87929),(-1.00433,-0.626141),(1.43692,0.000703999),(-0.0654574,0.599256),(2.44116,3.24696),(0.776778,0.640215),(0.934903,0.509877),(0.665841,0.446677),(0.395028,1.2679),(0.267097,0.337077),(0.873993,0.393278),(0.212124,-1.18624),(-8.74661,-0.745661),(0.885765,-0.00716351),(1.53466,1.26903),(1.0499,1.95839),(0.276797,-0.761477),(1.7887,4.14602),(0.385141,0.451557),(1.33126,0.467356),(-0.485218,-0.799348),(0.536256,-1.01948),(3.35576,0.0321724),(-0.043592,0.449795),(0.3159,-2.21213),(-0.527545,0.000343872),(0.459191,1.22817),(0.707168,-0.193168),(-0.459703,1.31585),(-2.00104,-1.7487),(0.956193,0.592579),(-0.659536,2.25402),(-0.854159,-0.599043),(-0.900059,-1.07347),(1.76923,-0.136693),(-0.371439,3.51243),(-0.0410473,0.105289),(0.00589472,0.930036),(0.359352,0.227321),(0.319574,0.589115),(-1.80194,1.04964),(0.0897065,-0.0435745),(2.78079,0.384812),(-0.827229,0.712811),(0.789214,1.22718),(-1.30465,-0.0671631)]

fftApDataW2 = [(0.179718,-0.126771),(0.0671402,-0.00483973),(-0.0890864,0.178427),(-0.173056,-0.294063),(-0.486066,-0.201948),(0.296276,0.388132),(-0.457096,-0.609824),(-0.00248285,-0.194756),(-0.198196,-0.0908452),(-0.0678829,0.052339),(0.50523,-0.145252),(-0.0814147,0.165755),(-0.402749,-0.0520481),(-0.122022,-0.0309702),(-0.233308,-0.297951),(-0.122224,0.0111228),(-0.0445754,0.306308),(-0.304736,0.306301),(-0.421021,0.0502054),(0.298821,-0.236887),(-0.624812,0.258507),(-0.195767,0.0494712),(0.266601,0.205936),(-0.120366,-0.250492),(0.088577,-0.517516),(-0.198779,0.0513443),(-0.200423,0.00919278),(-0.186983,0.0236471),(-0.0691338,-0.0220225),(-0.0327524,-0.0433318),(-0.062202,-0.059609),(-0.019592,-0.0677467),(0.000812441,-0.0599351),(-0.00842345,-0.0469987),(0.00744051,-0.0483602),(0.0308379,-0.097943),(0.0138206,0.0909253),(-0.204272,0.0452409),(-0.274761,0.0732027),(-0.434553,-0.02519),(0.107144,0.089853),(0.380145,0.211994),(-0.569731,-0.241249),(-0.133954,-0.0617091),(-0.137068,0.273382),(0.0477002,-0.275902),(-0.3413,0.183681),(0.144083,-0.118821),(0.292244,-0.028623),(0.393274,0.0602715),(0.54257,0.216982),(-0.00427061,-0.075165),(0.00875959,-0.323839),(0.207324,-0.449706),(-0.0778555,0.223782),(-0.369604,0.291565),(0.283406,-0.134601),(0.0976925,0.0137967),(-0.216731,-0.0244921),(0.376829,0.0827857),(-0.186324,-0.0525438),(-0.189314,-0.237546),(0.0539289,-0.515755),(0.00211215,-0.193161)]
CompDataW2 = [(-0.175183,-0.105517),(0.778492,-0.949658),(0.925333,0.943848),(-2.11524,0.128414),(1.72028,-0.233779),(2.52043,-0.440145),(0.105071,-0.630972),(-0.277963,-0.142163),(1.59231,0.495185),(0.504557,-0.734277),(1.77353,-0.450618),(0.452274,-0.12686),(1.31993,-0.221072),(0.0358862,0.402586),(0.797649,0.0570916),(3.40318,-0.512627),(2.00218,0.373123),(1.10806,-0.740331),(2.38108,-1.02608),(2.07803,-0.192157),(1.41112,-0.200072),(2.15367,0.138871),(-0.432045,-0.546975),(0.297411,0.861942),(0.936664,0.337584),(0.242309,0.38373),(-0.417479,0.275308),(-0.638919,-0.333907),(1.90078,0.601941),(1.25344,0.153317),(-0.633283,-0.246729),(-1.36563,0.0772109),(2.41606,-0.136498),(1.57557,0.547994),(0.768702,-0.183079),(-1.0566,-0.673611),(0.620852,-0.345034),(0.671081,-1.43882e-05),(-1.7462,-0.411204),(-2.20228,-0.0276538),(0.212629,0.153235),(1.07774,0.20153),(-1.58521,-0.514519),(0.542169,-0.0203724),(1.55574,0.6144),(0.857134,0.0986142),(-0.598458,0.00382768),(1.62464,-0.176487),(0.498292,-0.361673),(0.864498,-0.435068),(1.47118,0.208469),(1.62184,-0.914411)]

fftApDataW3 = [(-0.0151594,0.0273278),(-0.286551,0.397248),(-0.0621297,0.468121),(0.0468861,0.41723),(0.194707,0.243817),(-0.129616,-0.511255),(0.970295,0.136756),(-0.245587,-0.0881206),(-0.478912,-0.0199241),(-0.242767,0.0726705),(0.442914,-0.32224),(-0.0521115,0.332324),(0.155584,0.400855),(-0.103891,0.22573),(0.00992579,0.157014),(-0.370531,-0.523774),(-0.470128,0.122028),(-0.486997,0.142509),(-0.391058,0.0283204),(0.396826,-0.118518),(0.0513001,0.87179),(0.0764425,-0.17709),(-0.0308403,-0.22786),(0.346156,0.302888),(0.296004,0.195378),(-0.580235,-0.363716),(-0.405759,-0.143116),(-0.267603,-0.0981595),(0.0631247,0.0514785),(0.0268316,-0.0178285),(0.0197298,0.0111611),(0.023826,-0.0201328),(-0.0143502,-0.0112923),(0.00636721,0.000632629),(0.0150482,0.0209733),(-0.0539813,0.0055747),(-0.26396,-0.0366779),(-0.344396,0.358555),(0.0922734,0.300215),(0.059482,0.271194),(-0.113685,-0.624984),(-0.0314893,-0.167921),(0.757857,0.109149),(-0.191788,-0.036898),(-0.477386,0.0207515),(0.284603,-0.0542916),(-0.220006,0.19748),(0.480063,-0.31947),(-0.0152759,-0.451886),(-0.0642409,-0.633033),(-0.0746405,-0.344591),(0.509312,0.403871),(0.513491,0.240662),(0.174727,-0.0960831),(-0.573302,-0.0750952),(-0.240876,0.0856628),(0.452528,-0.234886),(-0.0318762,0.070163),(0.0203844,0.456758),(-0.0664359,-0.492161),(0.307637,0.50815),(0.410649,0.154712),(0.47762,0.0494267),(0.322919,0.0400124)]
CompDataW3 = [(0.888438,0.461152),(1.46748,0.405492),(0.963834,0.432228),(-0.737177,-0.34744),(0.845418,1.06695),(1.50694,1.91236),(-0.573788,-0.623521),(-0.464368,-0.428801),(0.86258,0.861458),(1.47502,0.578975),(1.22578,0.690244),(0.0565905,0.667001),(0.143023,0.414063),(0.796606,1.28217),(1.01186,0.0393784),(2.03049,0.827582),(0.678135,0.808183),(0.744731,0.858137),(1.8435,2.1768),(0.735203,0.310383),(1.36394,0.380823),(0.833128,0.497442),(-1.08448,-0.935693),(1.02663,0.757299),(0.474378,0.919644),(0.209126,-0.0299362),(-0.495573,-0.81239),(-1.19449,-0.556863),(1.07428,-0.3571),(0.63989,0.0793314),(-1.72973,-1.28993),(-0.203274,-0.309384),(4.33435,-0.300713),(1.22772,1.04937),(0.481394,0.383172),(-0.668203,-0.198001),(0.900846,1.29191),(0.70712,0.261149),(-1.41437,-1.2973),(-0.407069,-0.747528),(1.18177,0.988176),(0.929933,0.780655),(-0.449553,-0.0161756),(0.602325,0.788945),(0.473925,0.37531),(0.890527,0.996288),(-0.881939,-0.378151),(0.781614,1.44619),(0.867085,1.15915),(0.805155,0.502545),(0.721913,0.576962),(-1.76778,0.24553)]


fft = [(0.029638,0.148493),(0.382163,-0.246025),(0.476549,-0.21142),(0.363662,-0.231898),(-0.440845,0.462033),(0.337492,-0.326221),(-0.266288,0.196499),(0.0251797,-0.00246378),(0.418466,-0.280372),(0.359548,-0.38395),(-0.36868,0.37058),(0.257968,-0.38567),(0.355872,-0.32132),(0.326588,-0.434427),(0.41603,-0.402845),(-0.294445,0.341678),(-0.312317,0.342754),(-0.356751,0.320133),(-0.274609,0.249102),(-0.277311,0.312608),(0.20237,-0.372235),(-0.013706,0.00414721),(0.250991,-0.403147),(0.207258,-0.307526),(-0.190963,0.33733),(0.215963,-0.364851),(-0.132525,0.262763),(-0.143496,0.33793),(-0.0107197,0.0168126),(-0.00428742,0.0151718),(-0.0186655,-0.0093897),(-0.006798,-0.0126118),(0.0144583,-0.0138504),(0.00960578,-0.0306109),(-0.00208858,0.0176889),(-0.0389242,0.0157474),(0.328219,0.0432722),(0.347093,0.133687),(0.441833,0.102201),(0.39702,-0.00153759),(-0.317282,-0.00730315),(-0.46273,-0.00181948),(-0.316378,0.0352659),(0.0212194,-0.0370155),(-0.423506,0.00904241),(-0.408639,0.0503457),(0.408423,0.00168502),(0.448955,-0.00743963),(0.450164,-0.0526558),(-0.436568,0.147282),(-0.437737,0.0811812),(-0.54774,0.124821),(-0.419999,0.0578225),(0.499155,-0.187304),(-0.488588,0.15522),(-0.423539,0.234777),(0.462739,-0.136622),(-0.00636114,0.00017111),(-0.38607,0.162716),(0.442134,-0.187045),(0.425905,-0.232539),(-0.422289,0.255057),(-0.496589,0.277876),(0.347601,-0.222149)] 
chancomp =[(0,0),(-0.828394,0.0732552),(-1.04076,0.0660234),(-0.809343,0.153597),(1.24758,-0.363383),(-0.863372,0.244549),(-0.942597,0.0464997),(0.044863,0.0218405),(1.04998,0.036113),(1.10578,-0.119941),(-1.01766,0.137064),(-0.942116,0.248306),(-1.05487,0.00986822),(-1.18505,0.135514),(-1.20871,0.118252),(-1.04523,0.0434741),(-0.883573,-0.00553242),(-1.13105,-0.00378188),(-0.839947,-0.0318002),(-0.975034,0.0585316),(-0.892571,0.298265),(0.0265576,0.0184789),(-1.1114,0.267107),(-0.885229,0.131282),(-1.02209,0.133977),(1.15871,-0.159359),(-0.833994,0.0392461),(-0.951104,0.142782),(-0.0995077,-0.054324),(0,0),(0,0),(0,0),(0,0),(0,0),(0,0),(0,0),(0.951406,-0.0973275),(1.09966,0.0166394),(-1.32202,-0.0139373),(-0.933138,0.194364),(0.928693,-0.214464),(1.0519,-0.0998272),(-0.88839,0.142421),(0.0307428,-0.10382),(-1.07292,0.270987),(-0.971772,0.195506),(1.1657,-0.163844),(-1.10777,0.133154),(-1.02609,0.181109),(0.923089,-0.228722),(0.895385,-0.0794465),(-1.17443,0.162013),(-0.931782,0.140367),(1.19054,-0.187136),(-1.00527,0.17979),(-1.00604,0.384428),(-0.995082,0.063014),(0.0134605,0.00117753),(0.885974,-0.132853),(-1.01171,0.133034),(-0.983003,0.0473648),(-1.12009,0.243544),(-1.08284,0.14176),(1.6042,-0.711155)]
polit = [(0.044863,0.0218405),(0.0265576,0.0184789),(0.0307428,-0.10382),(0.0134605,0.00117753)]


fft_w = [(0.0110785,0.094099),(0.273163,-0.289219),(0.467979,-0.249625),(0.384728,-0.272964),(-0.468118,0.380878),(0.386218,-0.199332),(-0.322942,0.0673947),(0.000162482,0.0144242),(0.487593,-0.0622062),(0.594272,-0.0731684),(-0.474041,-0.0161724),(0.432555,-0.0705625),(0.463391,0.0529077),(0.548097,0.048054),(0.525751,0.195688),(-0.377208,-0.162273),(-0.392696,-0.226862),(-0.369429,-0.28549),(-0.284859,-0.255993),(-0.300561,-0.339381),(0.293232,0.24174),(-0.026542,-0.00863561),(0.223427,0.335735),(0.179654,0.347338),(-0.188793,-0.340539),(0.108471,0.375967),(-0.130332,-0.237796),(-0.106146,-0.339745),(-0.0347557,-0.00565334),(-0.0212763,0.00859489),(-0.0268483,-0.00324473),(0.0117744,-0.00373189),(-0.00404231,0.0223442),(0.0037788,-0.00260481),(0.022107,-0.00463556),(0.000712439,0.00530939),(-0.353101,-0.0767259),(-0.318784,-0.197234),(-0.366274,-0.19625),(-0.377358,-0.148017),(0.270884,0.122955),(0.373063,0.247735),(0.292075,0.160345),(-0.0126483,0.0516626),(0.262122,0.347716),(0.268016,0.333411),(-0.188799,-0.347851),(-0.200188,-0.440061),(-0.191669,-0.370478),(0.235022,0.358849),(0.163952,0.439006),(0.141994,0.480676),(0.00242141,0.417067),(-0.106147,-0.511443),(-0.000877209,0.496398),(0.0242662,0.511745),(0.0526338,-0.423256),(-0.0287338,-0.0187708),(-0.115119,0.397126),(0.2118,-0.415039),(0.25435,-0.467533),(-0.185003,0.462527),(-0.31171,0.487936),(0.254406,-0.360705)
]
chancomp_w = [(0,0),(-0.74911,0.0859162),(-1.04043,0.0624055),(-1.03223,0.141443),(1.14964,-0.297503),(-0.809733,0.15342),(-0.944755,-0.0545361),(-0.0010057,0.0264615),(1.0089,-0.100361),(1.22456,-0.112012),(-0.918669,0.0232547),(-0.926517,0.247901),(-1.02841,0.116041),(-1.23911,0.211022),(-1.15367,0.159107),(-1.00352,-0.039473),(-0.917874,-0.0576045),(-1.08693,0.0412892),(-0.89435,0.000665692),(-1.13073,0.0157364),(-0.892413,0.222317),(0.0504935,-0.0376562),(-0.980348,0.131898),(-0.967332,0.109756),(-0.916311,0.0912856),(1.05411,-0.0166366),(-0.726546,0.138585),(-0.974882,0.13365),(-0.135913,0.157688),(0,0),(0,0),(0,0),(0,0),(0,0),(0,0),(0,0),(1.05818,-0.0667685),(1.07258,0.0756961),(-1.23875,0.0235693),(-0.995508,0.227776),(0.864038,-0.257801),(1.13118,-0.124195),(-0.966806,0.247248),(-0.0962732,-0.0967654),(-1.11651,0.133693),(-1.02768,0.140467),(1.06263,-0.169926),(-1.19409,0.224884),(-0.954514,0.26277),(0.805387,-0.252919),(0.905398,-0.116207),(-1.05052,0.194918),(-0.981285,0.127082),(1.0957,-0.243746),(-0.996513,0.188819),(-1.11558,0.204685),(-0.898186,0.208094),(-0.00263519,0.0774086),(0.883069,-0.195825),(-1.05726,0.0786007),(-1.10882,0.00590316),(-1.0748,0.357142),(-1.20244,0.284698),(1.52203,-1.10437)
]
polit_w = [(-0.0010057,0.0264615),(0.0504935,-0.0376562),(-0.0962732,-0.0967654),(-0.00263519,0.0774086)]

fft_w2 = [(-0.0572612,-0.000775471),(-0.525302,0.403539),(-0.740982,0.174167),(-0.586938,0.142416),(0.713035,-0.122653),(-0.643144,0.256059),(0.319034,0.0134753),(0.0195432,-0.0116535),(-0.659855,-0.0759441),(-0.601437,-0.189745),(0.536123,0.154933),(-0.629783,-0.249392),(-0.474611,-0.3643),(-0.480739,-0.317688),(-0.542409,-0.498799),(0.478437,0.336118),(0.425694,0.437685),(0.386992,0.520305),(0.25109,0.512316),(0.292069,0.425581),(-0.168976,-0.544887),(0.033625,-0.00877345),(-0.0655932,-0.470122),(0.0212632,-0.579177),(0.137723,0.505169),(-0.0952942,-0.562864),(0.0107245,0.473117),(-0.126702,0.486862),(-0.00461952,0.00745377),(0.0156783,0.00799778),(-0.00304437,0.00894868),(-0.0191958,0.00713983),(-0.0173165,-0.0114468),(0.00134203,-0.00315751),(0.007806,-0.000143602),(0.00303245,0.0386031),(0.527072,0.129706),(0.468044,0.320502),(0.425455,0.20156),(0.44681,0.159539),(-0.359536,-0.319104),(-0.385312,-0.325754),(-0.204112,-0.337274),(0.0510361,-0.0156061),(-0.166597,-0.437123),(-0.381631,-0.479445),(0.170681,0.632758),(0.180936,0.494223),(0.283537,0.500086),(-0.300805,-0.718896),(-0.0961279,-0.510395),(0.017276,-0.689239),(0.187543,-0.452799),(-0.06713,0.621804),(0.128736,-0.774178),(0.161245,-0.665365),(-0.130842,0.615279),(0.000551309,-0.00542217),(0.342741,-0.55715),(-0.302698,0.48717),(-0.349699,0.550537),(0.376656,-0.437267),(0.476206,-0.412091),(-0.219774,0.261431)]
chancomp_w2 = [(0,0),(-0.988414,0.131982),(-1.12683,-0.0760939),(-0.95704,-0.0521042),(1.01204,0.0861682),(-1.05421,0.244234),(-0.782864,0.0180403),(-0.0317318,0.0160553),(1.07554,0.0206908),(0.985557,0.152984),(-0.854512,-0.00766486),(-1.07089,-0.0950906),(-0.990381,-0.167677),(-0.916444,-0.0884192),(-1.27066,-0.0624143),(-1.15181,0.0351547),(-1.02038,-0.0995525),(-1.1007,-0.0595217),(-1.00584,-0.0873712),(-0.911676,0.11249),(-1.00749,-0.0927872),(-0.00153059,-0.0659904),(-0.878669,-0.0592539),(-1.11125,-0.0973139),(-0.980423,0.101381),(1.13241,-0.225836),(-1.03283,0.00436804),(-1.00148,-0.149165),(-0.0452582,-0.091689),(0,0),(0,0),(0,0),(0,0),(0,0),(0,0),(0,0),(1.19738,0.0310245),(1.22508,0.160717),(-1.09315,-0.0109766),(-0.931087,0.164153),(0.973709,0.0193844),(0.964302,0.0650776),(-0.989133,-0.175458),(0.0107921,-0.1016),(-0.909164,-0.176138),(-1.16258,0.132368),(1.20121,0.116169),(-0.958908,0.0524916),(-0.963969,0.218875),(1.28229,-0.0806638),(0.834799,1.48447e-05),(-1.06793,-0.0849913),(-0.806852,-0.130691),(1.0829,0.0497645),(-1.22159,-0.00146383),(-1.11777,-0.0446361),(-0.954618,0.132768),(0.00735127,-0.00254007),(1.08014,-0.00598434),(-0.926043,0.0805515),(-0.988237,0.0222498),(-0.942007,0.0242259),(-0.931263,-0.0157891),(3.16795,-1.52965)
]
polit_w2 = [(-0.0317318,0.0160553),(-0.00153059,-0.0659904),(0.0107921,-0.1016),(0.00735127,-0.00254007)]
def tupletoComplex(IN):
    tmp = [] 

    for i in range(len(IN)):
        tmp.append(complex(IN[i][0],IN[i][1]))

    return tmp

def myConstellationPlot(inSig):
        x = []
        y = [] 
        absArray = []
        for i in range(len(inSig)):
            x.append(np.real(inSig[i]))
            y.append(np.imag(inSig[i]))
            absArray.append(cmath.polar(inSig[i]))
        plt.title("ConstellationPlot in self")
        # plt.xlim([-1.1, 1.1])
        # plt.ylim([-1.1, 1.1])
        plt.scatter(x,y)
        # plt.show()

def myConstellationReturn(inSig):
    x = []
    y = [] 
    out = []
    for i in range(len(inSig)):
        x.append(np.real(inSig[i]))
        y.append(np.imag(inSig[i]))

    out.append(x) 
    out.append(y)

    return out
if __name__ == "__main__":
    fftOut = tupletoComplex(fftSigB)
    compOut = tupletoComplex(CompSigB)

    print(fftOut)
   
    # fig, axs = plt.subplots(3, 2,figsize=(8, 12))
    # axs[0, 0].scatter(myConstellationReturn(tupletoComplex(fftSigB))[0],myConstellationReturn(tupletoComplex(fftSigB))[1])
    # axs[0, 0].set_title('NDP VhtSigB fft Out',fontsize=6)
    # axs[0, 1].scatter(myConstellationReturn(tupletoComplex(CompSigB))[0],myConstellationReturn(tupletoComplex(CompSigB))[1])
    # axs[0, 1].set_title('NDP VhtSigB equalizer Out ',fontsize=6)
    # axs[1, 0].scatter(myConstellationReturn(tupletoComplex(fftApDataC1))[0],myConstellationReturn(tupletoComplex(fftApDataC1))[1])
    # axs[1, 0].set_title('Correct pkt seq2 - VhtSigB fft Out',fontsize=6)
    # axs[1, 1].scatter(myConstellationReturn(tupletoComplex(CompDataC1))[0],myConstellationReturn(tupletoComplex(CompDataC1))[1])
    # axs[1, 1].set_title('Correct pkt seq2- VhtSigB equalizer Out ',fontsize=6)
    # axs[2, 0].scatter(myConstellationReturn(tupletoComplex(fftApDataC2))[0],myConstellationReturn(tupletoComplex(fftApDataC2))[1])
    # axs[2, 0].set_title('Correct pkt seq3 - VhtSigB fft Out',fontsize=6)
    # axs[2, 1].scatter(myConstellationReturn(tupletoComplex(CompDataC2))[0],myConstellationReturn(tupletoComplex(CompDataC2))[1])
    # axs[2, 1].set_title('Correct pkt seq3- VhtSigB equalizer Out ',fontsize=6)
    
    
    # axs[0, 0].scatter(myConstellationReturn(tupletoComplex(fftApDataW1))[0],myConstellationReturn(tupletoComplex(fftApDataW1))[1])
    # axs[0, 0].set_title('Wrong pkt 1 - VhtSigB fft Out',fontsize=6)
    # axs[0, 1].scatter(myConstellationReturn(tupletoComplex(CompDataW1))[0],myConstellationReturn(tupletoComplex(CompDataW1))[1])
    # axs[0, 1].set_title('Wrong pkt 1- VhtSigB equalizer Out ',fontsize=6)
    # axs[1, 0].scatter(myConstellationReturn(tupletoComplex(fftApDataW2))[0],myConstellationReturn(tupletoComplex(fftApDataW2))[1])
    # axs[1, 0].set_title('Wrong pkt 2 - VhtSigB fft Out',fontsize=6)
    # axs[1, 1].scatter(myConstellationReturn(tupletoComplex(CompDataW2))[0],myConstellationReturn(tupletoComplex(CompDataW2))[1])
    # axs[1, 1].set_title('Wrong pkt 2- VhtSigB equalizer Out ',fontsize=6)
    # axs[2, 0].scatter(myConstellationReturn(tupletoComplex(fftApDataW3))[0],myConstellationReturn(tupletoComplex(fftApDataW3))[1])
    # axs[2, 0].set_title('Wrong pkt 3 - VhtSigB fft Out',fontsize=6)
    # axs[2, 1].scatter(myConstellationReturn(tupletoComplex(CompDataW3))[0],myConstellationReturn(tupletoComplex(CompDataW3))[1])
    # axs[2, 1].set_title('Wrong pkt 3- VhtSigB equalizer Out ',fontsize=6)
    # plt.show()

    fig, axs = plt.subplots(3, 2,figsize=(8, 12))
    axs[0, 0].scatter(myConstellationReturn(tupletoComplex(fft))[0],myConstellationReturn(tupletoComplex(fft))[1])
    
    axs[0, 1].scatter(myConstellationReturn(tupletoComplex(chancomp))[0],myConstellationReturn(tupletoComplex(chancomp))[1])
    axs[0, 1].scatter(myConstellationReturn(tupletoComplex(polit))[0],myConstellationReturn(tupletoComplex(polit))[1]) 
    axs[0, 1].set_title('correct pkt channel comp out',fontsize=6)

    axs[1, 0].scatter(myConstellationReturn(tupletoComplex(fft_w))[0],myConstellationReturn(tupletoComplex(fft_w))[1])
    
    axs[1, 1].scatter(myConstellationReturn(tupletoComplex(chancomp_w))[0],myConstellationReturn(tupletoComplex(chancomp_w))[1])
    axs[1, 1].scatter(myConstellationReturn(tupletoComplex(polit_w))[0],myConstellationReturn(tupletoComplex(polit_w))[1])
    axs[1, 1].set_title('wrong pkt channel comp out',fontsize=6)

    axs[2, 0].scatter(myConstellationReturn(tupletoComplex(fft_w2))[0],myConstellationReturn(tupletoComplex(fft_w2))[1])
    axs[2, 1].scatter(myConstellationReturn(tupletoComplex(chancomp_w2))[0],myConstellationReturn(tupletoComplex(chancomp_w2))[1])
    axs[2, 1].scatter(myConstellationReturn(tupletoComplex(polit_w2))[0],myConstellationReturn(tupletoComplex(polit_w2))[1])

    axs[2, 1].set_title('wrong pkt channel comp out',fontsize=6)

    # plt.show()
    count = 0
    for i in range(len(chancomp)):
        if chancomp_w2[i][0]>1.5:
             print("count",count)
             break
        count +=1 
